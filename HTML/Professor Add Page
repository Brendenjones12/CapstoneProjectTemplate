<!DOCTYPE html>
<html>
    <head>
<title>Prof Login Web Form</title>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
<script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyBLvnJy7ccGLMYndH3p8AFkhV5N64kcfjE",
        authDomain: "bsu-capstone-student-retention.firebaseapp.com",
        databaseURL: "https://bsu-capstone-student-retention.firebaseio.com",
        projectId: "bsu-capstone-student-retention",
        storageBucket: "bsu-capstone-student-retention.appspot.com",
        messagingSenderId: "621069870851"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
</script>

    </head>
<body>
 <table>
  <tr>
   <td>Professor Id: </td>
   <td><input type="text" name="id" id="user_id" /></td>
  </tr>
  <tr>
   <td>Professor Name: </td>
   <td><input type="text" name="user_name" id="user_name" /></td>
  </tr>
  <tr>
   <td colspan="2">
    <input type="button" value="Save" onclick="save_user();" />
   </td>
  </tr>
 </table>
 
 <script>
 
  var tblUsers = document.getElementById('tbl_Professors_list');
  var databaseRef = firebase.database().ref('Professors/');
  var rowIndex = 1;
  
  databaseRef.once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
   var childKey = childSnapshot.key;
   var childData = childSnapshot.val();
   
   rowIndex = rowIndex + 1;
    });
  });
   
  function save_user(){
   var user_name = document.getElementById('user_name').value;
   var user_id = document.getElementById('user_id').value;
   
   var data = {
    user_id: user_id,
    user_name: user_name
   }
   
   var updates = {};
   updates['/Professors/' + user_id] = data;
   firebase.database().ref().update(updates);
   
   alert('The Professor was created successfully!');
   reload_page();
  }
  
  function reload_page(){
   window.location.reload();
  }
  
 </script>
 
</body>
</html>
